<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ইফতার মাহফিল - SSC Batch 2022</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">ইফতার মাহফিল</a>
 <img src="https://i.postimg.cc/KcwGQrS9/20250311-113157.png" width="10%" class="navbar-brand">
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#home">হোম</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#event">ইভেন্ট</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#register">রেজিস্ট্রেশন</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#gallery">গ্যালারি</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">যোগাযোগ</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Home Section -->
    <section id="home" class="home-section">
        <div class="container">
            <h1>ইফতার মাহফিল  <i>SSC Batch 2022</i></h1>
            <p>২৮শে রমজান, ২৯শে মার্চ ২০২৫</p>
            <p>রোজ: শনিবার   </p><br>
          <p> <button class="btn btn-primary"><a href="#register" style="color:#fff">রেজিস্ট্রেশন করুন ⇨</a></button></p>
            <div id="countdown"></div>
        </div>
    </section>

    <!-- Event Details Section -->
    <section id="event" class="event-section">
        <div class="container">
            <h2> বিস্তারিত তথ্য</h2>
            <p><strong>তারিখ:</strong> ২৮শে রমজান, ২৯শে মার্চ ২০২৫</p>
            <p><strong>রোজ:</strong> শনিবার    </p>
            <p><strong>স্থান:</strong> সমীরউদ্দীন স্মৃতি মহাবিদ্যালয়  </p>
            <p><strong>সময়:</strong> বিকাল ৪:০০ টা</p>
           <p><strong>ফি:</strong> মাত্র - ২০০/= টাকা</p>
        </div>
            <div class="countdown">
        <div class="timer" id="timer">
            <div class="circle">
                <span id="days">০০</span>
                <small>দিন</small>
            </div>
            <div class="circle">
                <span id="hours">০০</span>
                <small>ঘন্টা</small>
            </div>
            <div class="circle">
                <span id="minutes">০০</span>
                <small>মিনিট</small>
            </div>
            <div class="circle">
                <span id="seconds">০০</span>
                <small>সেকেন্ড</small>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script>
        // Set the date we're counting down to
        const countDownDate = new Date("March 29, 2025 16:00:00").getTime();

        // Update the countdown every 1 second
        const x = setInterval(function() {
            // Get today's date and time
            const now = new Date().getTime();

            // Find the distance between now and the countdown date
            const distance = countDownDate - now;

            // Time calculations for days, hours, minutes and seconds
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the result in the circles
            document.getElementById("days").innerHTML = days;
            document.getElementById("hours").innerHTML = hours;
            document.getElementById("minutes").innerHTML = minutes;
            document.getElementById("seconds").innerHTML = seconds;

            // If the countdown is over, display a message
            if (distance < 0) {
                clearInterval(x);
                document.getElementById("timer").innerHTML = "<div class='circle'><span>আজ ইফতার মাহফিল </span></div>";
            }
        }, 1000);
    </script>
    </section>
<audio id="successAudio" src="success-audio.mp3" type="audio/mpeg"></audio>
    <!-- Registration Section -->
    <section id="register" class="register-section">
        <div class="container">
            <h2>রেজিস্ট্রেশন</h2>
            <form id="registrationForm">
                <div class="form-group">
                    <label for="name"><b>নাম: </b>*</label>
                    <input type="text" pl
                 placeholder=" আপনার সম্পূর্ণ নাম ইংরেজিতে "class="form-control" id="name" required>
                </div>
                <div class="form-group">
                    <label for="phone"><b>মোবাইল নম্বর: * </b></label>
                    <input type="number" placeholder="মোবাইল নাম্বার" class="form-control" id="phone" required>
                </div>
                <button type="submit" class="btn btn-primary">রেজিস্ট্রেশন করুন</button>
                <a href="Py.html"class="btn btn-success">Payment করুন </a>
            </form>
            <div id="participantsList" class="mt-4">
                <h3>রেজিস্ট্রেশনকৃত অংশগ্রহণকারী</h3>
                <ul id="participants"></ul>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="gallery-section">
    <div class="container">
   <!---     <h2 class="text-center mt-4">৯ই এপ্রিল ২০২৪ </h2>
        <div class="video-container">
            Auto Play Video 
            <video id="videoPlayer" autoplay muted loop>
                <source src="ssc.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
             Play Button 
            <button class="play-button" id="playButton">Play with Sound</button>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        // JavaScript to handle play button click
        const videoPlayer = document.getElementById("videoPlayer");
        const playButton = document.getElementById("playButton");

        playButton.addEventListener("click", () => {
            videoPlayer.muted = false; // Unmute the video
            videoPlayer.play(); // Play the video
            playButton.style.display = "none"; // Hide the play button
        });

        // Optional: Hide the play button if the video is already playing with sound
        videoPlayer.addEventListener("play", () => {
            if (!videoPlayer.muted) {
                playButton.style.display = "none";
            }
        });
    </script>
  <span id="heading"><h2>স্মৃতিচারণ</h2> </span>
<div id="slider">  
<div class="slides">  
  <img src="https://i.postimg.cc/8Cwfc66d/IMG-20250326-WA0001.jpg" width="100%" />
 </div>
  
  <div class="slides">  
  <img src="https://i.postimg.cc/sgrJZ5vb/IMG-20250326-WA0002.jpg" width="100%" />
</div>
  
  <div class="slides">  
  <img src="https://i.postimg.cc/L4GD2cR9/IMG-20250326-WA0003.jpg" width="100%" />
</div> 
  
   <div class="slides">  
  <img src="
  https://i.postimg.cc/W4p65jmn/IMG-20250326-WA0004.jpg" width="100%" />
</div> 
  
<div class="slides">  
  <img src="https://i.postimg.cc/G2JLqDsD/20240407-181908-2.jpg" width="100%" />
</div>  
  
  <div id="dot"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
  <script>
    var index = 0;
var slides = document.querySelectorAll(".slides");
var dot = document.querySelectorAll(".dot");

function changeSlide(){

  if(index<0){
    index = slides.length-1;
  }
  
  if(index>slides.length-1){
    index = 0;
  }
  
  for(let i=0;i<slides.length;i++){
    slides[i].style.display = "none";
    dot[i].classList.remove("active");
  }
  
  slides[index].style.display= "block";
  dot[index].classList.add("active");
  
  index++;
  
  setTimeout(changeSlide,4000);
  
}

changeSlide();
  </script>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <h2>যোগাযোগ</h2>
            <h5>আমাদের সাথে যোগাযোগ করুন:</h5>
            <ul>
                <li> <mark><b>ফোন: <a href="tel:+88+8801764196769">+8801764196769</a></b></mark></li>
                <li> <mark><b>Messenger গ্রুপে যুক্ত হন।</b></mark></li>
                <li><a  class="btn btn-primary" href="https://m.me/j/AbbXSn_Sp-Y4bykr/">☞ Join now</a></li>
                <!-- Floating Messenger Icon -->
<div class="floating-messenger">
  <a href="tel:+88+8801764196769">
    <i class="bi bi-telephone-fill"></i>
</a> <br> <br>
    <a href="https://m.me/j/AbbXSn_Sp-Y4bykr/" target="_blank" class="btn btn-primary">
        <i class="fab fa-facebook-messenger"></i>
    </a>
</div>

<!-- Custom CSS for floating icon -->
<style>
    .floating-messenger {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 9999;
    }

    .floating-messenger a {
        font-size: 20px;
        background-color: #0084ff; /* Facebook Messenger blue */
        color: white;
        border-radius: 50%;
        padding: 9px;
        box-shadow: 0 4px 7px rgba(0, 0, 0, 0.3);
    }

    .floating-messenger a:hover {
        background-color: #006bb3;
    }
</style>
            </ul>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; <a href="https://www.instagram.com/mehedi_al_hasan_sawon_21?igsh=MXQ4cW1vYzE5aDgy" style="color:yellow">Mehedi Al Hasan Sawon </a></p>
        </div>
    </footer>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
    import { getDatabase, ref, set, get, child, onValue } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyA3eq7s6UvWPxlT05fXXesVpeSh1KnURyA",
        authDomain: "ssc22-4f7ae.firebaseapp.com",
        databaseURL: "https://ssc22-4f7ae-default-rtdb.firebaseio.com",
        projectId: "ssc22-4f7ae",
        storageBucket: "ssc22-4f7ae.firebasestorage.app",
        messagingSenderId: "355526890032",
        appId: "1:355526890032:web:6a19c027f419f54d75d3f5",
        measurementId: "G-GMHS7794LY"
    };

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

const generateUID = async () => {
    const participantsRef = ref(database, 'participants');
    const snapshot = await get(participantsRef);
    const count = snapshot.exists() ? Object.keys(snapshot.val()).length + 1 : 1;
    return `SSC-${String(count).padStart(2, '0')}`; // Formats as SSC-01, SSC-02, etc.
};
    // Function to handle registration
    const submitRegistrationForm = async (name, phone) => {
        const uid = await generateUID();
        const newParticipantRef = ref(database, `participants/${uid}`);

        set(newParticipantRef, {
            uid: uid,
            name: name,
            phone: phone,
            status: "UNPAID"
        }).then(() => {
            document.getElementById("registrationForm").reset();
            alert("Participant Registered Successfully!");
            
            // Play success audio
            const successAudio = document.getElementById("successAudio");
            if (successAudio) {
                successAudio.play().catch(error => console.log("Audio Play Error:", error));
            }

            fetchParticipants();
        }).catch((error) => {
            alert("Error in Registration: " + error.message);
        });
    };

    // Function to fetch and display participants
    const fetchParticipants = () => {
        const participantsRef = ref(database, 'participants');
        onValue(participantsRef, (snapshot) => {
            const participantsList = document.getElementById("participants");
            participantsList.innerHTML = "";  
            const participants = snapshot.val();

            if (participants) {
                Object.keys(participants).sort().forEach((id, index) => {
                    const participant = participants[id];
                    participantsList.innerHTML += `
                        <li class="list-group-item">
                            <strong>${index + 1}. ${participant.name}</strong>
                            <small>(${participant.uid})</small>
                            <span class="badge badge-${participant.status === "PAID" ? "success" : "warning"}">${participant.status}</span>
                        </li>
                    `;
                });
            } else {
                participantsList.innerHTML = "<li class='list-group-item'>No participants registered yet</li>";
            }
        });
    };

    window.onload = fetchParticipants;

    // Form submission handling
    document.getElementById("registrationForm").addEventListener("submit", (event) => {
        event.preventDefault();
        const name = document.getElementById("name").value;
        const phone = document.getElementById("phone").value;
        submitRegistrationForm(name, phone);
    });
</script>
    <!-- Custom JS -->
</body>
</html>
